<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">


<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
	<ui:define name="content">
		<div class="panel panel-default col-md-offset-2 col-md-8">
			<div class="panel-heading">Archive a new war</div>
			<div class="panel-body">
				<h:form class="form">

					<div class="form-group">
						<label for="name-war">Nom de la guerre</label>
						<h:inputText class="form-control" id="name-war"
							placeholder="Exemple : Guerre de 39-45"
							value="#{insertWarBean.warName}" />
					</div>

					<div class="form-group">
						<label for="date-start">Date de début</label>
						<h:inputText class="form-control" id="date-start"
							value="#{insertWarBean.startDate}">
							<f:convertDateTime pattern="yyyy-MM-dd" />
						</h:inputText>
					</div>

					<div class="form-group">
						<label for="date-end">Date de fin</label>
						<h:inputText class="form-control" id="date-end"
							value="#{insertWarBean.endDate}">
							<f:convertDateTime pattern="yyyy-MM-dd" />
						</h:inputText>
					</div>

					<div class="form-group">
						<label for="countries">Pays ayant participé à la guerre
							(séparés par des ';' )</label> <input type="text" class="form-control"
							id="countries" />
					</div>

					<div class="row col-md-12" style="height: 200px;">
						<h4>Armes utilisées lors de cette guerre</h4>
						<div class="col-md-4">
							<h:outputText value="Explosives"></h:outputText>
							<h:selectManyCheckbox styleClass="col-md-12" value="#{insertWarBean.selectedExplosives}">
								<f:selectItems value="#{insertWarBean.explosives}" var="explosive"
									itemValue="#{explosive.id}" itemLabel="#{explosive.name}" />
							</h:selectManyCheckbox>

							<button type="button" class="btn btn-primary"
								onclick="showModalExplosive()">Add new explosive</button>
						</div>
						
						<div class="col-md-4">
						<h:outputText value="Fire arms"></h:outputText>
						<button type="button" class="btn btn-primary"
								onclick="showModalFireArm()">Add new fire arm</button>
						</div>
						
						<div class="col-md-4">
						<h:outputText value="Cold arms"></h:outputText>
						<button type="button" class="btn btn-primary"
								onclick="showModalColdArm()">Add new cold arm</button>
						</div>
					</div>
					<h:commandButton value="Insérer"
						action="#{insertWarBean.insertWar}"></h:commandButton>
				</h:form>
			</div>
		</div>

		<!-- MODALS -->

		<ui:include src="/WEB-INF/modals/modal_explosives.xhtml" />
		<ui:include src="/WEB-INF/modals/modal_coldarm.xhtml" />
		<ui:include src="/WEB-INF/modals/modal_firearm.xhtml" />

		<script type="text/javascript">
			
		function showModalExplosive()
		{
			$('#modalExplosive').modal('show');
		}
		
		function showModalFireArm()
		{
			$('#modalFireArm').modal('show');
		}
		
		function showModalColdArm()
		{
			console.log()
			$('#modalColdArm').modal('show');
		}
		
		</script>
	</ui:define>
</ui:composition>
</html>